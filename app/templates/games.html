{% extends "base.html" %}

{% block title %} Games {% endblock %}

{% block content %}
    <div><b>Note to all users:</b> We had a database failure on 5/7/2017 at 12:40am, and lost the data for thousands of logic games.</div>
    <div>If you're searching for ongoing games or historical records from before the blackout, they are unfortunately irrecoverable.</div>
    <div>We at Logic sincerely apologize for the inconvenience, and are already implementing preventative measures for the future.</div>

    <div id="gamelist"><div id="reload_gamelist">
        <h2>Your Turn</h2>
        <ul class="gamelist">
            {% if myturn|length %}
                {% for game in myturn %}
                    <li><a class="game_active" href="{{ url_for("views.game", name = game.name) }}">{{ game.name }}</a></li>
                {% endfor %}
            {% else %}
                <li>--</li>
            {% endif %}
        </ul>
        <h2>Current</h2>
        <ul class="gamelist">
            {% if games|length %}
                {% for game in games %}
                    <li><a class="game_current" href="{{ url_for("views.game", name = game.name) }}">{{ game.name }}</a></li>
                {% endfor %}
            {% else %}
                <li>--</li>
            {% endif %}
        </ul>
        <h2>Completed</h2>
        <ul class="gamelist">
            {% if completed|length %}
                {% for game in completed %}
                    <li><a class="game_complete" href="{{ url_for("views.game", name = game.name) }}">{{ game.name }}</a></li>
                {% endfor %}
            {% else %}
                <li>--</li>
            {% endif %}
        </ul>
    </div></div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{{ url_for("static", filename = "games.js") }}"></script>
{% endblock %}
